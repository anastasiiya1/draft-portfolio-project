{"version":3,"file":"commonHelpers.js","sources":["../src/js/footer.js"],"sourcesContent":["import axios from 'axios';\nimport * as basicLightbox from 'basiclightbox';\nimport 'basiclightbox/dist/basicLightbox.min.css';\n\nconst BASE_URL = 'https://portfolio-js.b.goit.study/api';\nconst END_POINT = '/requests';\n\nconst submitForm = document.querySelector('.user-form');\nconst validationEmail = document.querySelector('.validation-text');\nconst footerFormFrame = document.querySelector('.footer-form-frame');\n\nsubmitForm.addEventListener('submit', handleSubmit);\n\nasync function handleSubmit(event) {\n  event.preventDefault();\n\n  const userEmail = event.currentTarget.elements.email.value.trim();\n  const userComments = event.currentTarget.elements.comments.value.trim();\n\n  if(userEmail){\n\tvalidationEmail.style.visibility = 'visible';\n\tvalidationEmail.style.color = 'rgba(60, 188, 129, 1)';\n\tfooterFormFrame.style.borderBottomColor = 'rgba(60, 188, 129, 1)'\n  }if(!userEmail){\n\tvalidationEmail.style.visibility = 'visible';\n\tvalidationEmail.style.color = 'rgba(231, 74, 59, 1)';\n\tfooterFormFrame.style.borderBottomColor = 'rgba(231, 74, 59, 1)'\n  }\n\n  const userData = {\n    email: userEmail,\n    comment: userComments,\n  };\n\n await sendData(userData);\n}\n\nasync function sendData(userData){\n\ttry{ \n\t\tconst response = await axios.post(`${BASE_URL}${END_POINT}`, userData);\n\t\tvalidationEmail.style.visibility = 'hidden';\n\t\tfooterFormFrame.style.borderBottomColor = 'rgba(250, 250, 250, 0.20)'\n\t\tsubmitForm.reset();\n\t\tconst modalSuccess = basicLightbox.create(`\n\t\t<div class=\"modal\">\n\t\t<h3>Thank you for your interest in cooperation!</h3>\n\t\t<p>The manager will contact you shortly to discuss further details and opportunities for cooperation. Please stay in touch.</p>\n\t\t</div>`)\n\t\t\n\t\tmodalSuccess.show()\n\t} catch(error) {\n\t\tconst instance = basicLightbox.create(`\n\t\t<div class=\"modal\">\n\t\t<h2>Please, check your information and try one more time</h2>\n\t\t<p>${error.message}</p>\n\t\t</div>\n\t\t`);\n\n      instance.show();\n\n\t}\n}"],"names":["BASE_URL","END_POINT","submitForm","validationEmail","footerFormFrame","handleSubmit","event","userEmail","userComments","sendData","userData","response","axios","basicLightbox.create","error"],"mappings":"6vBAIA,MAAMA,EAAW,wCACXC,EAAY,YAEZC,EAAa,SAAS,cAAc,YAAY,EAChDC,EAAkB,SAAS,cAAc,kBAAkB,EAC3DC,EAAkB,SAAS,cAAc,oBAAoB,EAEnEF,EAAW,iBAAiB,SAAUG,CAAY,EAElD,eAAeA,EAAaC,EAAO,CACjCA,EAAM,eAAc,EAEpB,MAAMC,EAAYD,EAAM,cAAc,SAAS,MAAM,MAAM,OACrDE,EAAeF,EAAM,cAAc,SAAS,SAAS,MAAM,OAE9DC,IACJJ,EAAgB,MAAM,WAAa,UACnCA,EAAgB,MAAM,MAAQ,wBAC9BC,EAAgB,MAAM,kBAAoB,yBACpCG,IACNJ,EAAgB,MAAM,WAAa,UACnCA,EAAgB,MAAM,MAAQ,uBAC9BC,EAAgB,MAAM,kBAAoB,wBAQ1C,MAAMK,EALY,CACf,MAAOF,EACP,QAASC,CACb,CAEwB,CACxB,CAEA,eAAeC,EAASC,EAAS,CAChC,GAAG,CACF,MAAMC,EAAW,MAAMC,EAAM,KAAK,GAAGZ,CAAQ,GAAGC,CAAS,GAAIS,CAAQ,EACrEP,EAAgB,MAAM,WAAa,SACnCC,EAAgB,MAAM,kBAAoB,4BAC1CF,EAAW,MAAK,EACKW,EAAAA,OAAqB;AAAA;AAAA;AAAA;AAAA,SAInC,EAEM,KAAM,CACnB,OAAOC,EAAO,CACGD,EAAAA,OAAqB;AAAA;AAAA;AAAA,OAGjCC,EAAM,OAAO;AAAA;AAAA,GAEjB,EAEY,KAAI,CAEjB,CACF"}